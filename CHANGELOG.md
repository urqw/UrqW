# Журнал изменений UrqW

## Версия 1.1 (в разработке)

* Интерпретатор URQL:
	+ Добавлено: поддержка кодировки UTF-8 для игр и плагинов.
	+ Добавлено: возможность выполнение кода JavaScript из кода URQL и получение его результата при помощи системной переменной и оператора javascript.
	+ Добавлено: системные переменные time, date (только при отсутствии специальных правил urq_mode), urqw_title, urqw_game_ifid, urqw_game_lang, urqw_version.
	+ Добавлено: поддержка пользовательских текстовых описаний для изображений, добавляемых через системную переменную или оператор image.
	+ Исправлено: обработка переменной tokens_delim.
	+ Исправлено: обработка goto способом, специфичным для URQ_DOS.
* Плеер игр:
	+ Добавлено: поддержка интернационализации и переводы интерфейса на русский и английский языки.
	+ Добавлено: настройка кодировки игры при открытии с главной страницы.
	+ Добавлено: возможность переименовать и очистить слоты сохранения через меню дополнительных действий, а также скачать и загрузить сохранение в виде файла.
	+ Добавлено: поле даты в каталоге игр.
	+ Добавлено: возможность фильтровать игры в каталоге по языку и названию, а также сортировать по дате и алфавиту.
	+ Добавлено: меню с дополнительной информацией и настройками в панели инструментов.
	+ Добавлено: RSS-канал новых игр в каталоге.
	+ Добавлено: возможность задать игру, загружаемую при любом открытии index.html.
	+ Добавлено: возможность задать настройки плеера через get-параметры:
		- Язык интерфейса - lang
		- Режим URQ - mode
		- Кодировка игры - encoding
		- URL для открытия игры - url
	+ Добавлено: поддержка файла manifest.json в пакете игры, использующегося для определения параметров плеера и метаданных игры, а также начальных значений некоторых системных переменных.
	+ Добавлено: автоматическое фокусирование первого интерактивного элемента на экране игры, а также надписей об ожидании любого нажатия и об окончании игры.
	+ Добавлено: автоматическое фокусирование элементов управления при работе с модальными диалогами (меню, сохранение и загрузка игры).
	+ Добавлено: отображение версии UrqW в интерфейсе плеера.
	+ Добавлено: открытие игр в формате .qsz.
	+ Добавлено: нумерация кнопок выбора действий.
	+ Добавлено: горячие клавиши:
		- Управление громкостью - V
		- Перезапуск игры - R
		- Сохранение игры - S
		- Загрузка игры - L
		- Открытие меню - M
		- Закрытие модальных диалогов (меню, сохранение и загрузка игры) - Escape
		- Фокусирование и открытие инвентаря - I
		- Повторное объявление текущего текста игры программой экранного доступа - A
		- Активация первых десяти кнопок выбора действий - 1-9 и 0 на верхнем цифровом ряду или на Numpad
		- Перемещение фокуса между областями интерфейса плеера (панель инструментов, панель инвентаря, текстовое описание, кнопки выбора, поле ввода) - стрелки вправо и влево
		- Перемещение фокуса внутри текущей области интерфейса плеера - стрелки вниз и вверх
	+ Изменено: отображение вариантов использования элемента инвентаря по установке системного фокуса, а не только по наведению мыши.
	+ Изменено: отслеживание нажатий клавиш не по коду символа, а по коду клавиши.
	+ Изменено: небольшая правка отступа информативного окна.
	+ Удалено: отдельный курсор UrqW для выбора и активации кнопок (вызывал проблемы расхождения фокусов с активацией сразу нескольких элементов и был заменён на кластерную навигацию на основе стандартного системного фокуса).
	+ Улучшения accessibility:
		- Добавлено: текстовые метки у панели инструментов игры.
		- Добавлено: текстовая метка у кнопки инвентаря в интерфейсе для экранов размера XS.
		- Добавлено: выводимый текст игры автоматически объявляется программами экранного доступа как живая область.
		- Изменено: текстовые метки у графических иконок плеера.
		- Исправлено: ссылки в тексте игры фокусируются и активируются с клавиатуры, а также имеют роль ссылки.
		- Исправлено: корректное представление абзацев в тексте игры для программ экранного доступа.
* Обновление документации.
* Инфраструктура разработки и сопровождения:
	+ Добавлено: скрипт valid-json для проверки валидности файла games.json.
	+ Добавлено: скрипт pack-games для упаковки игр для каталога.
	+ Добавлено: скрипт gen-rss для генерации RSS-канала новых игр в каталоге.
	+ Добавлено: скрипт gen-license-report для генерации отчёта о лицензиях сторонних компонентов.
	+ Добавлено: команда `npm run build` для сборки UrqW для производственных сред (последовательный вызов скриптов valid-json, pack-games, gen-rss и gen-license-report).
	+ Изменено: все игры в каталоге добавлены как подмодули из отдельных репозиториев и перепакованы с файлом manifest.json.

## Версия 1.0 от 20.01.2017

* Первая стабильная версия.

## 12.10.2015

* Первая публично представленная работоспособная версия.

## 21.09.2015

* Начало разработки (первый коммит).
