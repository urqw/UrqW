# Журнал изменений UrqW

(Добавление игр в каталог не записывается в этот документ.)

## Версия 1.1 (в разработке)

* Интерпретатор URQL:
	+ Добавлено: Поддержка кодировки UTF-8 для игр и плагинов.
	+ Добавлено: Возможность выполнить код JavaScript из кода URQL и получить его результат с помощью системной переменной javascript.
	+ Добавлено: Системные переменные time, date (только при отсутствии специальных правил urq_mode), urqw_title, urqw_game_ifid, urqw_game_lang, urqw_version.
	+ Добавлено: Символ обратной косой черты (\) как символ продолжения строки для разделения однострочных инструкции URQL на несколько физических строк в исходном коде.
	+ Добавлено: Поддержка пользовательских текстовых описаний для изображений, добавляемых с помощью системной переменной image или оператора image.
	+ Исправлено: Обработка переменной tokens_delim.
	+ Исправлено: Обработка оператора goto в режиме совместимости с URQ-DOS.
* Плеер игр:
	+ Добавлено: Поддержка настраиваемой интернационализации и переводы интерфейса на русский, английский и белорусский языки.
	+ Добавлено: Настройка кодировки игры при открытии с главной страницы.
	+ Добавлено: Возможность переименовать и очистить слоты сохранения через меню дополнительных действий, а также скачать и загрузить сохранение в виде файла.
	+ Добавлено: Поле даты в каталоге игр.
	+ Добавлено: Возможность фильтровать игры в каталоге по языку и названию, а также сортировать по дате и алфавиту.
	+ Добавлено: Меню с дополнительной информацией и настройками в панели инструментов.
	+ Добавлено: RSS-канал новых игр в каталоге.
	+ Добавлено: Возможность задать игру, загружаемую при любом открытии index.html.
	+ Добавлено: Возможность задать настройки плеера с помощью get-параметров:
		- Язык интерфейса - lang
		- Режим URQ - mode
		- Кодировка игры - encoding
		- URL для открытия игры - url
		- Отображение раздела отладки игры в меню - debug со значением 1
	+ Добавлено: Поддержка файла manifest.json в пакете игры, использующегося для определения параметров плеера и метаданных игры, а также начальных значений некоторых системных переменных.
	+ Добавлено: Автоматическое фокусирование элементов управления при работе с диалоговыми окнами (меню, сохранение и загрузка игры).
	+ Добавлено: Настраиваемое автоматическое фокусирование первого элемента управления на экране игры, а также надписи об ожидании любого нажатия и об окончании игры.
	+ Добавлено: Возможность настроить запрос о подтверждении закрытия страницы.
	+ Добавлено: Отключаемые горячие клавиши для активации кнопок выбора, быстрых действий и кластерной навигации по областям интерфейса (см. справку в меню).
	+ Добавлено: Нумерация кнопок выбора при включённых горячих клавишах.
	+ Добавлено: Отображение версии UrqW в интерфейсе плеера.
	+ Добавлено: Заголовки в диалоговых окнах сохранения и загрузки игры.
	+ Добавлено: Поддержка открытия игр в формате .qsz.
	+ Изменено: Варианты использования предмета в инвенторе отображаются, когда предмет принимает системный фокус, а не только когда на него наводится мышь.
	+ Изменено: Отслеживание нажатий клавиш не по коду символа, а по коду клавиши.
	+ Изменено: Небольшая правка отступа информативного окна.
	+ Удалено: Отдельный курсор UrqW для выбора и активации кнопок (вызывал проблемы одновременной активации двух элементов управления и был заменён на кластерную навигацию на основе стандартного системного фокуса).
	+ Улучшения accessibility:
		- Добавлено: Текстовые метки для элементов управления панели инструментов.
		- Добавлено: Текстовая метка для кнопки инвентаря в интерфейсе для экранов размера XS.
		- Добавлено: Текстовый префикс для визуально выделенного слота автосохранения.
		- Добавлено: Настраиваемое объявление обновления описания с помощью вспомогательных технологий.
		- Добавлено: Настраиваемое объявление обновления кнопок выбора с помощью вспомогательных технологий.
		- Добавлено: Настраиваемое объявление описания с помощью вспомогательных технологий при нажатии горячей клавиши (см. справку в меню).
		- Добавлено: Настраиваемое объявление описания с помощью вспомогательных технологий при встряхивании устройства.
		- Изменено: Текстовые метки у графических иконок плеера.
		- Исправлено: Ссылки в тексте игры фокусируются и активируются с клавиатуры, а также имеют роль ссылки.
		- Исправлено: Корректное представление абзацев в тексте игры для программ экранного доступа.
* Документация:
	+ Добавлено: Начата подготовка новой документации на русском и английском языке.
	+ Изменено: Обновление основной русскоязычной документации.
* Инфраструктура разработки и сопровождения:
	+ Добавлено: Скрипт valid-json для проверки файла games.json.
	+ Добавлено: Скрипт pack-games для упаковки игр из директории games для каталога.
	+ Добавлено: Скрипт gen-rss для генерации RSS-канала новых игр в каталоге.
	+ Добавлено: Скрипт gen-license-report для генерации отчёта о лицензиях сторонних компонентов.
	+ Добавлено: Скрипт gen-docs для генерации документации в формате HTML.
	+ Добавлено: Скрипт pack-release для упаковки релизной сборки UrqW.
	+ Добавлено: Команда `npm run build` для сборки UrqW для производственных сред с каталогом игр.
	+ Добавлено: Команда `npm run release` для сборки UrqW для релиза без каталога игр.
	+ Изменено: Все игры в каталоге добавлены как подмодули из отдельных репозиториев и перепакованы с файлом manifest.json.

## Версия 1.0 (от 20.01.2017)

* Первая стабильная версия.

## 12.10.2015

* Первая публично представленная работоспособная версия.

## 21.09.2015

* Начало разработки (первый коммит).
